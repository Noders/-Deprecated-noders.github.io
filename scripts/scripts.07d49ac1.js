"use strict";angular.module("nodersApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngSanitize","ngTouch","ui.bootstrap","ui.router","NodersAPI","uiGmapgoogle-maps"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("slack",{url:"/slack",templateUrl:"views/slack.html",controller:"SlackCtrl"}).state("about",{url:"/about",templateUrl:"views/about.html",controller:"AboutCtrl"}).state("noders",{url:"/noders",templateUrl:"views/noders.html",controller:"NodersCtrl"}).state("partners",{url:"/partners",templateUrl:"views/partners.html",controller:"PartnersCtrl"}).state("login",{url:"/login",templateUrl:"views/auth/login.html",controller:"AuthCtrl"}).state("perfil",{url:"/perfil",templateUrl:"views/auth/perfil.html",controller:"AuthCtrl"}).state("register",{url:"/register",templateUrl:"views/auth/register.html",controller:"AuthCtrl"})}]),angular.module("nodersApp").controller("MainCtrl",["$scope","$http","uiGmapGoogleMapApi",function(a,b,c){a.awesomeThings=[],a.map={},a.map.center={latitude:-16,longitude:-70},a.map.zoom=3,b.get("http://api.noders.com/api/partners").success(function(b){a.partners=b}),b.get("http://api.noders.com/api/noders").success(function(b){a.noders=b}),b.get("http://api.noders.com/api/eventos").success(function(b){a.eventos=b}),c.then(function(c){b.get("http://api.noders.com/api/Comunidades").success(function(b){var c=[];_.each(b,function(a,b){var d={};d.id=a.id,d.latitude=a.geo.lat,d.longitude=a.geo.lng,d.title=a.name,c.push(d)}),a.map.comunidades=c})}),a.noderClicked=function(b){a.selectedMarker=null,a.selectedMarker=b},a.map.options={},a.map.options.styless=[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#d3d3d3"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]}]),angular.module("nodersApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("nodersApp").controller("SlackCtrl",["$scope","$window",function(a,b){a.goingToSlack=!1,a.suscribir=function(){a.email=""},a.goToSlack=function(){a.goingToSlack=!0,b.location.href="http://slack.noders.cl"}}]),angular.module("nodersApp").controller("NodersCtrl",["$scope","$http",function(a,b){b.get("http://api.noders.com/api/noders").success(function(b){a.noders=b})}]),angular.module("nodersApp").controller("PartnersCtrl",["$scope","$http",function(a,b){b.get("http://api.noders.com/api/partners").success(function(b){a.partners=b})}]),angular.module("nodersApp").factory("Auth",["$cookies","Noders","LoopBackAuth","$http",function(a,b,c,d){return{login:function(b,e){var f=this;c.currentUserId=c.accessTokenId=null,d.post("/api/noders/login?include=user",{email:b.email,password:b.password}).then(function(b){b.data&&b.data.id&&(c.currentUserId=b.data.userId,c.accessTokenId=b.data.id),null===c.currentUserId&&(delete a.access_token,c.accessTokenId=null),c.save(),c.currentUserId&&b.data&&b.data.user?(f.currentUser=b.data.user,e(f.currentUser)):e({})},function(){console.log("User.login() err",arguments),c.currentUserId=c.accessTokenId=null,c.save(),e({})})},logout:function(){c.clearUser(),c.save(),window.location="/auth/logout"},ensureHasCurrentUser:function(b){var e=this;this.currentUser&&"social"!==this.currentUser.id||!a.access_token?(console.log("Using cached current user."),b(e.currentUser)):(c.currentUserId=c.accessTokenId=null,d.get("/auth/current").then(function(d){d.data.id&&(c.currentUserId=d.data.id,c.accessTokenId=a.access_token.substring(2,66)),null===c.currentUserId&&(delete a.access_token,c.accessTokenId=null),c.save(),e.currentUser=d.data;var f=e.currentUser&&e.currentUser.profiles&&e.currentUser.profiles.length&&e.currentUser.profiles[0];f&&(e.currentUser.name=f.profile.name),b(e.currentUser)},function(){console.log("User.getCurrent() err",arguments),c.currentUserId=c.accessTokenId=null,c.save(),b({})}))}}}]),function(a,b,c){var d="http://localhost:3003/api",e="authorization",f=b.module("NodersAPI",["ngResource"]);f.factory("Noder",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Noders/:id",{id:"@id"},{prototype$__findById__accessTokens:{url:d+"/Noders/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{url:d+"/Noders/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{url:d+"/Noders/:id/accessTokens/:fk",method:"PUT"},prototype$__get__host:{url:d+"/Noders/:id/host",method:"GET"},prototype$__findById__sigue:{url:d+"/Noders/:id/sigue/:fk",method:"GET"},prototype$__destroyById__sigue:{url:d+"/Noders/:id/sigue/:fk",method:"DELETE"},prototype$__updateById__sigue:{url:d+"/Noders/:id/sigue/:fk",method:"PUT"},prototype$__link__sigue:{url:d+"/Noders/:id/sigue/rel/:fk",method:"PUT"},prototype$__unlink__sigue:{url:d+"/Noders/:id/sigue/rel/:fk",method:"DELETE"},prototype$__exists__sigue:{url:d+"/Noders/:id/sigue/rel/:fk",method:"HEAD"},prototype$__findById__suscrito:{url:d+"/Noders/:id/suscrito/:fk",method:"GET"},prototype$__destroyById__suscrito:{url:d+"/Noders/:id/suscrito/:fk",method:"DELETE"},prototype$__updateById__suscrito:{url:d+"/Noders/:id/suscrito/:fk",method:"PUT"},prototype$__link__suscrito:{url:d+"/Noders/:id/suscrito/rel/:fk",method:"PUT"},prototype$__unlink__suscrito:{url:d+"/Noders/:id/suscrito/rel/:fk",method:"DELETE"},prototype$__exists__suscrito:{url:d+"/Noders/:id/suscrito/rel/:fk",method:"HEAD"},prototype$__get__accessTokens:{isArray:!0,url:d+"/Noders/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:d+"/Noders/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:d+"/Noders/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:d+"/Noders/:id/accessTokens/count",method:"GET"},prototype$__get__sigue:{isArray:!0,url:d+"/Noders/:id/sigue",method:"GET"},prototype$__create__sigue:{url:d+"/Noders/:id/sigue",method:"POST"},prototype$__delete__sigue:{url:d+"/Noders/:id/sigue",method:"DELETE"},prototype$__count__sigue:{url:d+"/Noders/:id/sigue/count",method:"GET"},prototype$__get__suscrito:{isArray:!0,url:d+"/Noders/:id/suscrito",method:"GET"},prototype$__create__suscrito:{url:d+"/Noders/:id/suscrito",method:"POST"},prototype$__delete__suscrito:{url:d+"/Noders/:id/suscrito",method:"DELETE"},prototype$__count__suscrito:{url:d+"/Noders/:id/suscrito/count",method:"GET"},create:{url:d+"/Noders",method:"POST"},upsert:{url:d+"/Noders",method:"PUT"},exists:{url:d+"/Noders/:id/exists",method:"GET"},findById:{url:d+"/Noders/:id",method:"GET"},find:{isArray:!0,url:d+"/Noders",method:"GET"},findOne:{url:d+"/Noders/findOne",method:"GET"},updateAll:{url:d+"/Noders/update",method:"POST"},deleteById:{url:d+"/Noders/:id",method:"DELETE"},count:{url:d+"/Noders/count",method:"GET"},prototype$updateAttributes:{url:d+"/Noders/:id",method:"PUT"},login:{params:{include:"user"},interceptor:{response:function(a){var c=a.data;return b.setUser(c.id,c.userId,c.user),b.rememberMe=a.config.params.rememberMe!==!1,b.save(),a.resource}},url:d+"/Noders/login",method:"POST"},logout:{interceptor:{response:function(a){return b.clearUser(),b.clearStorage(),a.resource}},url:d+"/Noders/logout",method:"POST"},confirm:{url:d+"/Noders/confirm",method:"GET"},resetPassword:{url:d+"/Noders/reset",method:"POST"},prototype$volverAdmin:{url:d+"/Noders/:id/volverAdmin",method:"POST"},"::findById::Comunidad::noders":{url:d+"/Comunidades/:id/noders/:fk",method:"GET"},"::destroyById::Comunidad::noders":{url:d+"/Comunidades/:id/noders/:fk",method:"DELETE"},"::updateById::Comunidad::noders":{url:d+"/Comunidades/:id/noders/:fk",method:"PUT"},"::findById::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/:fk",method:"GET"},"::destroyById::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/:fk",method:"DELETE"},"::updateById::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/:fk",method:"PUT"},"::link::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/rel/:fk",method:"PUT"},"::unlink::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/rel/:fk",method:"DELETE"},"::exists::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/rel/:fk",method:"HEAD"},"::get::Comunidad::noders":{isArray:!0,url:d+"/Comunidades/:id/noders",method:"GET"},"::create::Comunidad::noders":{url:d+"/Comunidades/:id/noders",method:"POST"},"::delete::Comunidad::noders":{url:d+"/Comunidades/:id/noders",method:"DELETE"},"::count::Comunidad::noders":{url:d+"/Comunidades/:id/noders/count",method:"GET"},"::get::Comunidad::seguidores":{isArray:!0,url:d+"/Comunidades/:id/seguidores",method:"GET"},"::create::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores",method:"POST"},"::delete::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores",method:"DELETE"},"::count::Comunidad::seguidores":{url:d+"/Comunidades/:id/seguidores/count",method:"GET"},"::findById::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/:fk",method:"GET"},"::destroyById::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/:fk",method:"DELETE"},"::updateById::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/:fk",method:"PUT"},"::link::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/rel/:fk",method:"PUT"},"::unlink::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/rel/:fk",method:"DELETE"},"::exists::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/rel/:fk",method:"HEAD"},"::get::Evento::suscritos":{isArray:!0,url:d+"/Eventos/:id/suscritos",method:"GET"},"::create::Evento::suscritos":{url:d+"/Eventos/:id/suscritos",method:"POST"},"::delete::Evento::suscritos":{url:d+"/Eventos/:id/suscritos",method:"DELETE"},"::count::Evento::suscritos":{url:d+"/Eventos/:id/suscritos/count",method:"GET"},getCurrent:{url:d+"/Noders/:id",method:"GET",params:{id:function(){var a=b.currentUserId;return null==a&&(a="__anonymous__"),a}},interceptor:{response:function(a){return b.currentUserData=a.data,a.resource}},__isGetCurrentUser__:!0}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.getCachedCurrent=function(){var a=b.currentUserData;return a?new e(a):null},e.isAuthenticated=function(){return null!=this.getCurrentId()},e.getCurrentId=function(){return b.currentUserId},e.modelName="Noder",e.host=function(){var a=c.get("Comunidad"),b=a["::get::Noder::host"];return b.apply(e,arguments)},e.sigue=function(){var a=c.get("Comunidad"),b=a["::get::Noder::sigue"];return b.apply(e,arguments)},e.sigue.count=function(){var a=c.get("Comunidad"),b=a["::count::Noder::sigue"];return b.apply(e,arguments)},e.sigue.create=function(){var a=c.get("Comunidad"),b=a["::create::Noder::sigue"];return b.apply(e,arguments)},e.sigue.destroyAll=function(){var a=c.get("Comunidad"),b=a["::delete::Noder::sigue"];return b.apply(e,arguments)},e.sigue.destroyById=function(){var a=c.get("Comunidad"),b=a["::destroyById::Noder::sigue"];return b.apply(e,arguments)},e.sigue.exists=function(){var a=c.get("Comunidad"),b=a["::exists::Noder::sigue"];return b.apply(e,arguments)},e.sigue.findById=function(){var a=c.get("Comunidad"),b=a["::findById::Noder::sigue"];return b.apply(e,arguments)},e.sigue.link=function(){var a=c.get("Comunidad"),b=a["::link::Noder::sigue"];return b.apply(e,arguments)},e.sigue.unlink=function(){var a=c.get("Comunidad"),b=a["::unlink::Noder::sigue"];return b.apply(e,arguments)},e.sigue.updateById=function(){var a=c.get("Comunidad"),b=a["::updateById::Noder::sigue"];return b.apply(e,arguments)},e.suscrito=function(){var a=c.get("Evento"),b=a["::get::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.count=function(){var a=c.get("Evento"),b=a["::count::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.create=function(){var a=c.get("Evento"),b=a["::create::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.destroyAll=function(){var a=c.get("Evento"),b=a["::delete::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.destroyById=function(){var a=c.get("Evento"),b=a["::destroyById::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.exists=function(){var a=c.get("Evento"),b=a["::exists::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.findById=function(){var a=c.get("Evento"),b=a["::findById::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.link=function(){var a=c.get("Evento"),b=a["::link::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.unlink=function(){var a=c.get("Evento"),b=a["::unlink::Noder::suscrito"];return b.apply(e,arguments)},e.suscrito.updateById=function(){var a=c.get("Evento"),b=a["::updateById::Noder::suscrito"];return b.apply(e,arguments)},e}]),f.factory("Partner",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Partners/:id",{id:"@id"},{create:{url:d+"/Partners",method:"POST"},upsert:{url:d+"/Partners",method:"PUT"},exists:{url:d+"/Partners/:id/exists",method:"GET"},findById:{url:d+"/Partners/:id",method:"GET"},find:{isArray:!0,url:d+"/Partners",method:"GET"},findOne:{url:d+"/Partners/findOne",method:"GET"},updateAll:{url:d+"/Partners/update",method:"POST"},deleteById:{url:d+"/Partners/:id",method:"DELETE"},count:{url:d+"/Partners/count",method:"GET"},prototype$updateAttributes:{url:d+"/Partners/:id",method:"PUT"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Partner",e}]),f.factory("Comunidad",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Comunidades/:id",{id:"@id"},{prototype$__findById__noders:{url:d+"/Comunidades/:id/noders/:fk",method:"GET"},prototype$__destroyById__noders:{url:d+"/Comunidades/:id/noders/:fk",method:"DELETE"},prototype$__updateById__noders:{url:d+"/Comunidades/:id/noders/:fk",method:"PUT"},prototype$__findById__eventos:{url:d+"/Comunidades/:id/eventos/:fk",method:"GET"},prototype$__destroyById__eventos:{url:d+"/Comunidades/:id/eventos/:fk",method:"DELETE"},prototype$__updateById__eventos:{url:d+"/Comunidades/:id/eventos/:fk",method:"PUT"},prototype$__findById__seguidores:{url:d+"/Comunidades/:id/seguidores/:fk",method:"GET"},prototype$__destroyById__seguidores:{url:d+"/Comunidades/:id/seguidores/:fk",method:"DELETE"},prototype$__updateById__seguidores:{url:d+"/Comunidades/:id/seguidores/:fk",method:"PUT"},prototype$__link__seguidores:{url:d+"/Comunidades/:id/seguidores/rel/:fk",method:"PUT"},prototype$__unlink__seguidores:{url:d+"/Comunidades/:id/seguidores/rel/:fk",method:"DELETE"},prototype$__exists__seguidores:{url:d+"/Comunidades/:id/seguidores/rel/:fk",method:"HEAD"},prototype$__get__noders:{isArray:!0,url:d+"/Comunidades/:id/noders",method:"GET"},prototype$__create__noders:{url:d+"/Comunidades/:id/noders",method:"POST"},prototype$__delete__noders:{url:d+"/Comunidades/:id/noders",method:"DELETE"},prototype$__count__noders:{url:d+"/Comunidades/:id/noders/count",method:"GET"},prototype$__get__eventos:{isArray:!0,url:d+"/Comunidades/:id/eventos",method:"GET"},prototype$__create__eventos:{url:d+"/Comunidades/:id/eventos",method:"POST"},prototype$__delete__eventos:{url:d+"/Comunidades/:id/eventos",method:"DELETE"},prototype$__count__eventos:{url:d+"/Comunidades/:id/eventos/count",method:"GET"},prototype$__get__seguidores:{isArray:!0,url:d+"/Comunidades/:id/seguidores",method:"GET"},prototype$__create__seguidores:{url:d+"/Comunidades/:id/seguidores",method:"POST"},prototype$__delete__seguidores:{url:d+"/Comunidades/:id/seguidores",method:"DELETE"},prototype$__count__seguidores:{url:d+"/Comunidades/:id/seguidores/count",method:"GET"},create:{url:d+"/Comunidades",method:"POST"},upsert:{url:d+"/Comunidades",method:"PUT"},exists:{url:d+"/Comunidades/:id/exists",method:"GET"},findById:{url:d+"/Comunidades/:id",method:"GET"},find:{isArray:!0,url:d+"/Comunidades",method:"GET"},findOne:{url:d+"/Comunidades/findOne",method:"GET"},updateAll:{url:d+"/Comunidades/update",method:"POST"},deleteById:{url:d+"/Comunidades/:id",method:"DELETE"},count:{url:d+"/Comunidades/count",method:"GET"},prototype$updateAttributes:{url:d+"/Comunidades/:id",method:"PUT"},"::get::Noder::host":{url:d+"/Noders/:id/host",method:"GET"},"::findById::Noder::sigue":{url:d+"/Noders/:id/sigue/:fk",method:"GET"},"::destroyById::Noder::sigue":{url:d+"/Noders/:id/sigue/:fk",method:"DELETE"},"::updateById::Noder::sigue":{url:d+"/Noders/:id/sigue/:fk",method:"PUT"},"::link::Noder::sigue":{url:d+"/Noders/:id/sigue/rel/:fk",method:"PUT"},"::unlink::Noder::sigue":{url:d+"/Noders/:id/sigue/rel/:fk",method:"DELETE"},"::exists::Noder::sigue":{url:d+"/Noders/:id/sigue/rel/:fk",method:"HEAD"},"::get::Noder::sigue":{isArray:!0,url:d+"/Noders/:id/sigue",method:"GET"},"::create::Noder::sigue":{url:d+"/Noders/:id/sigue",method:"POST"},"::delete::Noder::sigue":{url:d+"/Noders/:id/sigue",method:"DELETE"},"::count::Noder::sigue":{url:d+"/Noders/:id/sigue/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Comunidad",e.noders=function(){var a=c.get("Noder"),b=a["::get::Comunidad::noders"];return b.apply(e,arguments)},e.noders.count=function(){var a=c.get("Noder"),b=a["::count::Comunidad::noders"];return b.apply(e,arguments)},e.noders.create=function(){var a=c.get("Noder"),b=a["::create::Comunidad::noders"];return b.apply(e,arguments)},e.noders.destroyAll=function(){var a=c.get("Noder"),b=a["::delete::Comunidad::noders"];return b.apply(e,arguments)},e.noders.destroyById=function(){var a=c.get("Noder"),b=a["::destroyById::Comunidad::noders"];return b.apply(e,arguments)},e.noders.findById=function(){var a=c.get("Noder"),b=a["::findById::Comunidad::noders"];return b.apply(e,arguments)},e.noders.updateById=function(){var a=c.get("Noder"),b=a["::updateById::Comunidad::noders"];return b.apply(e,arguments)},e.eventos=function(){var a=c.get("Evento"),b=a["::get::Comunidad::eventos"];return b.apply(e,arguments)},e.eventos.count=function(){var a=c.get("Evento"),b=a["::count::Comunidad::eventos"];return b.apply(e,arguments)},e.eventos.create=function(){var a=c.get("Evento"),b=a["::create::Comunidad::eventos"];return b.apply(e,arguments)},e.eventos.destroyAll=function(){var a=c.get("Evento"),b=a["::delete::Comunidad::eventos"];return b.apply(e,arguments)},e.eventos.destroyById=function(){var a=c.get("Evento"),b=a["::destroyById::Comunidad::eventos"];return b.apply(e,arguments)},e.eventos.findById=function(){var a=c.get("Evento"),b=a["::findById::Comunidad::eventos"];return b.apply(e,arguments)},e.eventos.updateById=function(){var a=c.get("Evento"),b=a["::updateById::Comunidad::eventos"];return b.apply(e,arguments)},e.seguidores=function(){var a=c.get("Noder"),b=a["::get::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.count=function(){var a=c.get("Noder"),b=a["::count::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.create=function(){var a=c.get("Noder"),b=a["::create::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.destroyAll=function(){var a=c.get("Noder"),b=a["::delete::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.destroyById=function(){var a=c.get("Noder"),b=a["::destroyById::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.exists=function(){var a=c.get("Noder"),b=a["::exists::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.findById=function(){var a=c.get("Noder"),b=a["::findById::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.link=function(){var a=c.get("Noder"),b=a["::link::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.unlink=function(){var a=c.get("Noder"),b=a["::unlink::Comunidad::seguidores"];return b.apply(e,arguments)},e.seguidores.updateById=function(){var a=c.get("Noder"),b=a["::updateById::Comunidad::seguidores"];return b.apply(e,arguments)},e}]),f.factory("Evento",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Eventos/:id",{id:"@id"},{prototype$__findById__suscritos:{url:d+"/Eventos/:id/suscritos/:fk",method:"GET"},prototype$__destroyById__suscritos:{url:d+"/Eventos/:id/suscritos/:fk",method:"DELETE"},prototype$__updateById__suscritos:{url:d+"/Eventos/:id/suscritos/:fk",method:"PUT"},prototype$__link__suscritos:{url:d+"/Eventos/:id/suscritos/rel/:fk",method:"PUT"},prototype$__unlink__suscritos:{url:d+"/Eventos/:id/suscritos/rel/:fk",method:"DELETE"},prototype$__exists__suscritos:{url:d+"/Eventos/:id/suscritos/rel/:fk",method:"HEAD"},prototype$__get__suscritos:{isArray:!0,url:d+"/Eventos/:id/suscritos",method:"GET"},prototype$__create__suscritos:{url:d+"/Eventos/:id/suscritos",method:"POST"},prototype$__delete__suscritos:{url:d+"/Eventos/:id/suscritos",method:"DELETE"},prototype$__count__suscritos:{url:d+"/Eventos/:id/suscritos/count",method:"GET"},create:{url:d+"/Eventos",method:"POST"},upsert:{url:d+"/Eventos",method:"PUT"},exists:{url:d+"/Eventos/:id/exists",method:"GET"},findById:{url:d+"/Eventos/:id",method:"GET"},find:{isArray:!0,url:d+"/Eventos",method:"GET"},findOne:{url:d+"/Eventos/findOne",method:"GET"},updateAll:{url:d+"/Eventos/update",method:"POST"},deleteById:{url:d+"/Eventos/:id",method:"DELETE"},count:{url:d+"/Eventos/count",method:"GET"},prototype$updateAttributes:{url:d+"/Eventos/:id",method:"PUT"},"::findById::Noder::suscrito":{url:d+"/Noders/:id/suscrito/:fk",method:"GET"},"::destroyById::Noder::suscrito":{url:d+"/Noders/:id/suscrito/:fk",method:"DELETE"},"::updateById::Noder::suscrito":{url:d+"/Noders/:id/suscrito/:fk",method:"PUT"},"::link::Noder::suscrito":{url:d+"/Noders/:id/suscrito/rel/:fk",method:"PUT"},"::unlink::Noder::suscrito":{url:d+"/Noders/:id/suscrito/rel/:fk",method:"DELETE"},"::exists::Noder::suscrito":{url:d+"/Noders/:id/suscrito/rel/:fk",method:"HEAD"},"::get::Noder::suscrito":{isArray:!0,url:d+"/Noders/:id/suscrito",method:"GET"},"::create::Noder::suscrito":{url:d+"/Noders/:id/suscrito",method:"POST"},"::delete::Noder::suscrito":{url:d+"/Noders/:id/suscrito",method:"DELETE"},"::count::Noder::suscrito":{url:d+"/Noders/:id/suscrito/count",method:"GET"},"::findById::Comunidad::eventos":{url:d+"/Comunidades/:id/eventos/:fk",method:"GET"},"::destroyById::Comunidad::eventos":{url:d+"/Comunidades/:id/eventos/:fk",method:"DELETE"},"::updateById::Comunidad::eventos":{url:d+"/Comunidades/:id/eventos/:fk",method:"PUT"},"::get::Comunidad::eventos":{isArray:!0,url:d+"/Comunidades/:id/eventos",method:"GET"},"::create::Comunidad::eventos":{url:d+"/Comunidades/:id/eventos",method:"POST"},"::delete::Comunidad::eventos":{url:d+"/Comunidades/:id/eventos",method:"DELETE"},"::count::Comunidad::eventos":{url:d+"/Comunidades/:id/eventos/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Evento",e.suscritos=function(){var a=c.get("Noder"),b=a["::get::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.count=function(){var a=c.get("Noder"),b=a["::count::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.create=function(){var a=c.get("Noder"),b=a["::create::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.destroyAll=function(){var a=c.get("Noder"),b=a["::delete::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.destroyById=function(){var a=c.get("Noder"),b=a["::destroyById::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.exists=function(){var a=c.get("Noder"),b=a["::exists::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.findById=function(){var a=c.get("Noder"),b=a["::findById::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.link=function(){var a=c.get("Noder"),b=a["::link::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.unlink=function(){var a=c.get("Noder"),b=a["::unlink::Evento::suscritos"];return b.apply(e,arguments)},e.suscritos.updateById=function(){var a=c.get("Noder"),b=a["::updateById::Evento::suscritos"];return b.apply(e,arguments)},e}]),f.factory("LoopBackAuth",function(){function a(){var a=this;e.forEach(function(b){a[b]=d(b)}),this.rememberMe=c,this.currentUserData=null}function b(a,b,c){var d=f+b;null==c&&(c=""),a[d]=c}function d(a){var b=f+a;return localStorage[b]||sessionStorage[b]||null}var e=["accessTokenId","currentUserId"],f="$LoopBack$";return a.prototype.save=function(){var a=this,c=this.rememberMe?localStorage:sessionStorage;e.forEach(function(d){b(c,d,a[d])})},a.prototype.setUser=function(a,b,c){this.accessTokenId=a,this.currentUserId=b,this.currentUserData=c},a.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},a.prototype.clearStorage=function(){e.forEach(function(a){b(sessionStorage,a,null),b(localStorage,a,null)})},new a}).config(["$httpProvider",function(a){a.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(a,b){return{request:function(f){if(f.url.substr(0,d.length)!==d)return f;if(b.accessTokenId)f.headers[e]=b.accessTokenId;else if(f.__isGetCurrentUser__){var g={body:{error:{status:401}},status:401,config:f,headers:function(){return c}};return a.reject(g)}return f||a.when(f)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(a){e=a},this.setUrlBase=function(a){d=a},this.$get=["$resource",function(a){return function(b,c,d){var e=a(b,c,d);return e.prototype.$save=function(a,b){var c=e.upsert.call(this,{},this,a,b);return c.$promise||c},e}}]})}(window,window.angular),angular.module("nodersApp").controller("AuthCtrl",["$scope","$location","Noder","LoopBackAuth",function(a,b,c,d){a.auth=d,a.error={},a.route={},a.$on("$locationChangeSuccess",function(b,c){switch(c.split("#")[1]){case"/slack":a.route={},a.route.slack=!0;break;case"/":a.route={},a.route.home=!0;break;default:a.route={},a.route.home=!0}}),a.logout=function(){c.logout().$promise.then(function(a){b.path("/")})},a.login=function(){c.login({username:a.username,password:a.password},function(a){b.path("/")},function(b){"LOGIN_FAILED"==b.data.error.code&&(a.error.notfound=!0)})}}]),angular.module("nodersApp").controller("CoreCtrl",["$scope","LoopBackAuth","$location","Noder",function(a,b,c,d){b.currentUserId&&d.findById({id:b.currentUserId},function(a){b.currentUserData=a,console.log(b.currentUserData)}),"/"!=c.$$path&&(b.currentUserId||c.path("/login"))}]);